
<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset="utf-8">
	<title>Jesse Wolgamott |
      JWo. TexMex Software Consulting</title>

	<meta name="author" content="Jesse Wolgamott">
	
	<meta name="description" content="Hand Crafted Tex Mex Software bloggings">

	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<link href="/atom.xml" rel="alternate" title="J.Wo" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Open+Sans:700,400" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/default.min.css">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA+P8AAPh/AAD4PwAA/j8AAP4/AAD+PwAA/j8AAP4/AAD+PwAA/j8AAP4/AAD+PwAA/j8AAP//AAD//wAA" rel="icon" type="image/x-icon" />
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body class="home-template">
  <header id="site-head">
  <div class="vertical">
    <div id="site-head-content" class="inner">
      <h1 class="blog-title"><a class="no-rollover" href="/">Jesse Wolgamott</a></h1>
      <h2 class="blog-description">TexMex Software Consulting</h2>
      <nav>
        <a href="/start">Start Here</a> |
        <a href="/contact">Contact</a> | 
        <a href="/press">Press</a> |
        <a href="/talks">Talks</a> |
        <a href="/opensource">Open Source</a> |
        <a href="/books">Books</a>
      </nav>
    </div>
  </div>
</header>

  <main class="content" role="main">
    



    <article class="post">
	
		
	
	<header class="post-header">
		<span class="post-meta">16 Aug 2016</span>
		<h2 class="post-title">
			
			<a href="/blog/2016/08/16/so-much-to-learn-so-little-time/">
			
				So Much to Learn, So Little Time</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>My birthday is coming up; looking back on what I learned about looking forward on what I want to learn, I noticed a pattern. Each year I spend revolving around the sun tends to have a pattern of what I learn. Maybe it was distributed systems and how easy it is to screw up in 2007-2008. Or APIs from 2012-2013.</p>

<p>There is too much to learn with far too few years to learn. The only way I’ve been able to be ok with this fact is to schedule my learning, learn by doing, and then reading the books on the subject. Note: read the books, not the blogs, is a technique by <a href="http://chrisoakman.com/">Chris Oakman</a> and it’s helped me dive into the theory behind the tech. The tech changes, but the theory stays the same.</p>

<p>That said, this is probably a very hip-javascript heavy post. If you’re suffering from JavaScript fatigue, this may or may not help.</p>


	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">12 Aug 2016</span>
		<h2 class="post-title">
			
			<a href="/blog/2016/08/12/scenes-from-seven-cohorts/">
			
				Scenes From Seven Cohorts</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>Two years ago, my first cohort graduated at The Iron Yard in Houston, Texas. 12
students received their diplomas and started their journey, their career, and
their new life.</p>

<p>Five cohorts followed; today my seventh, and final, immersive cohort will
present their final projects and begin the next phase of their live. I look back
and remember:</p>


	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">20 Nov 2015</span>
		<h2 class="post-title">
			
			<a href="/blog/2015/11/20/explaining-elixir-pipes-through-the-magic-of-turduckens/">
			
				Explaining Elixir Pipes Through the Magic of Turduckens</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>One of the cooler features of Elixir (and other functional languages) is the
Pipe operator <code>|&gt;</code>. It certainly makes code easier to read, but it’s a bit
difficult to grep for the first time.</p>

<p>Let’s use the <a href="https://en.wikipedia.org/wiki/Turducken">Turducken</a> to explain
it. For the uninitiated, A Turducken is a turkey stuffed with a duck which is
itself stuffed in a chicken.</p>


	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">17 Nov 2015</span>
		<h2 class="post-title">
			
			<a href="/blog/2015/11/17/when-fake-googlebots-attack-your-rails-app/">
			
				When (Fake) Googlebots Attack Your Rails App</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>We’ve all scraped a site or two (rite?) but what do you do when bad actors start
taking up a non-trivial amount of resources on <em>your</em> app?  Further, what if bad actors 
are masking their user agent to appear as though they were googlebot?</p>


	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">06 Apr 2015</span>
		<h2 class="post-title">
			
			<a href="/blog/2015/04/06/writing-like-actually-getting-words-onto-paper/">
			
				Writing Like Actually Getting Words Onto Paper</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>Writing is a series of small burst of rushing water, a thousand words pouring out of me in a very short period of time.</p>

<p>Writing is day dreaming, when no words come at all. The rushing water has stopped, the creek dry and crackling.</p>

<p>Writing is using your own voice and avoiding sounding important or intellectual. Writing is real.</p>

<p>Writing happens in the morning for me. I imagine my brain is still excited about the day in the morning, and like sushi, degrades the further it gets from sleep. I should look into napping. You should find the part of the day you are most creative, and write then. AB test it. Trial and error.</p>

<h3 id="tools">Tools</h3>

<p>Many developers spend days, weeks even, on getting the correct Tool. I have used Pages, Desk.pm, IA Writer, Scrivener, and more authoring tools I can remember. They do not do the work for you, and in general do not make anything easier.</p>

<p>You can also spend days, and weeks, on your toolkit to transfer your words into an ebook format. Or, your site’s marketing website.</p>

<p>But here’s the truth: you are ignoring the part that matters: getting words out of your brain and onto ‘paper’. Stop with the tools, and just write. Use <a href="http://softcover.io/">softcover</a> or <a href="http://leanpub.com/">leanpub</a> - both will create a page for you so you can focus on the writing.</p>

<p>Fiddling with tools instead of writing is wankery distraction.</p>

<h3 id="timeline-of-a-chapter">Timeline of a chapter</h3>

<ul>
  <li>Day 1: write an outline of an article or chapter</li>
  <li>Day 2: fill in the outline</li>
  <li>Day 3: edit the first chapter</li>
  <li>Day 7+: revisit and read with a clean mind. I’ll find that I find I didn’t say all I thought I had said. Or, I’ll find typos clear as day that my mind wouldn’t let me see the previous week.</li>
</ul>

<p>I’m currently putting my ideas on writing into action creating Tex Mex
Consulting. Some of my favorite articles:</p>

<ul>
  <li><a href="http://blog.texmexconsulting.com/clients-do-not-pay-you-for-the-code/">Clients do not pay you for the code</a></li>
  <li><a href="http://blog.texmexconsulting.com/from-employee-to-freelancer-to-consultant/">From Employee To Freelancer to Consultant</a></li>
  <li><a href="http://blog.texmexconsulting.com/proposals-shitty-to-super-fantastic/">Proposals: shitty to super-fantastic</a></li>
</ul>


	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">22 Mar 2015</span>
		<h2 class="post-title">
			
			<a href="/blog/2015/03/22/why-i-created-tex-mex-consulting/">
			
				Why I Created Tex Mex Consulting</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>Employees don’t make enough money. You’re not treated fairly, are not respected,
and have to put up with a lot of crap. </p>

<p>Most software developers can learn a hellaton from freelancing and consulting;
at the very least you can learn what you’re worth. And it’s not $75,000 a year
with free soda and 1% equity.</p>

<p>I’ve spent 6 years and many thousands of dollars in mistakes, masterclasses,
and good old sweat equity in created a workflow system for expert software
consulting.</p>

<p>I want to give you a path to consulting; a path to go from Employee to
Freelancer to Consultant. A path to freedom, more money, and more respect.</p>

<p>The basic ethos of the book:</p>

<blockquote>
  <p>Freelancers are hired by companies. Consultants choose their clients
carefully.</p>
</blockquote>

<p>Want to try out some the techniques in my system? I’ve created a 30 day free
email course on Professional Freelancing – try it out below.</p>

<form action="https://www.getdrip.com/forms/9399974/submissions" method="post" target="_blank" data-drip-embedded-form="9399974">

    <div>
      <label for="fields[first_name]">First Name</label><br />
      <input type="text" name="fields[first_name]" value="" />
    </div>
    <div>
      <label for="fields[email]">Email Address</label><br />
      <input type="text" name="fields[email]" value="" />
    </div>
  <div>
    <input type="submit" name="submit" value="Send me the chapters, start my course!" data-drip-attribute="sign-up-button" />
  </div>
</form>

<p>Check out the system for Professional Freelancing at <a href="http://texmexconsulting.com/">Tex Mex
Consulting</a>. </p>


	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">06 Mar 2015</span>
		<h2 class="post-title">
			
			<a href="/blog/2015/03/06/1000-day-love-story-with-ember/">
			
				1000 Day Love Story With Ember</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>Like most love stories, my love affair with Ember took time to blossom. I first saw Ember in 2011, had some fun, and planned to look at it once the API solidified.</p>

<p>In that time, pre-1.0, Ember’s API would change constantly. Most people saw this as a flaw, after all, it meant that documentation, blogs, and stack overflow searches would frequently reference older versions. The router saw the biggest changes, frequently.</p>

<p>The benefit of this – Ember got the API right. Once it hit 1.0, the API was on point; and with the correct API in place, Ember keeps getting better. Ember is able to make changes under the hood, applying React style rendering, performance enhancements, and generally get better and better over time.</p>

<p>My experience with ember is generally along the lines of Deleting more code than I add; Ember tends to add what I need overtime and I use that instead of my code.</p>

<p>Told over a series of many (perhaps too many) tweets, here is the story of my transition from Ember to Angular to Ember.</p>


	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">05 Mar 2015</span>
		<h2 class="post-title">
			
			<a href="/blog/2015/03/05/getting-websockets-carrierwave-and-fog-to-play-nicely-together/">
			
				Getting Websockets, CarrierWave, and Fog to Play Nicely Together</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>Getting Websockets, CarrierWave, and Fog to play nicely together</p>

<p>Alternate title: “Dancing with Dragons, or, how I got screwed by ActiveRecord Callbacks yet again.”</p>

<p>I’ve been working on the following scenario:</p>

<ul>
  <li>2 different people have an ember app open</li>
  <li>One of them adds a new record to the Rails app</li>
  <li>I want other-person’s ember to refresh with that new record instantaniously-ish</li>
</ul>

<h3 id="the-setup">The setup</h3>

<div class="bogus-wrapper"><notextile><figure class="code ruby"><figcaption><span></span></figcaption><pre><code class="ruby"><span class="k">class</span> <span class="nc">Photo</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
  <span class="n">mount_uploader</span> <span class="ss">:image</span><span class="p">,</span> <span class="no">ImageUploader</span>

  <span class="n">after_create</span> <span class="k">do</span>
    <span class="no">Pusher</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="s2">&quot;new_photo&quot;</span><span class="p">,</span> <span class="no">PhotoSerializer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></figure></notextile></div>

<p>Fairly simple, but here’s what’s going on:  </p>

<ul>
  <li>When our photo is created, carrier wave will resize the image, upload it to S3</li>
  <li>We will send the JSON through Pusher to any clients subscribed to the <code>new_photo</code> channel. The JSON we’re sending is the same JSON that ActiveModelSerializer will use in the API. WIN.</li>
</ul>

<h2 id="but-then-melancholy">But then, melancholy.</h2>

<p>The JSON that comes through has something rather odd for <code>large_image_url</code> - it’s a local path to the /tmp/upload directory, which absolutely does not work. :/</p>

<div class="bogus-wrapper"><notextile><figure class="code json"><figcaption><span></span></figcaption><pre><code class="json"><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;399ca80efb2bd65e7254f299adfe278a&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;thumbythumbythumby&quot;</span><span class="p">,</span>
    <span class="nt">&quot;large_image_url&quot;</span><span class="p">:</span> <span class="s2">&quot;/uploads/tmp/1425583084-37430-8620/large_thumbnail.jpg&quot;</span><span class="p">,</span>
    <span class="nt">&quot;thumb_photo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;/uploads/tmp/1425583084-37430-8620/thumb_thumbnail.jpg&quot;</span>
<span class="p">}</span>
</code></pre></figure></notextile></div>

<p>Basically, when Pusher is sending PhotoSerializer.new(self).attributes, the image has not been stored up to S3. We want to do Pusher later, after fog does it’s thing.</p>

<p>Callbacks are run in this order:</p>

<div class="bogus-wrapper"><notextile><figure class="code ruby"><figcaption><span></span></figcaption><pre><code class="ruby"><span class="n">before_validation</span>
<span class="n">after_validation</span>
<span class="n">before_save</span>
<span class="n">around_save</span>
<span class="n">before_create</span>
<span class="n">around_create</span>
<span class="n">after_create</span>
<span class="n">after_save</span>
<span class="n">after_commit</span><span class="o">/</span><span class="n">after_rollback</span>
</code></pre></figure></notextile></div>

<p>So, <code>after_create</code> is occurring before <code>after_save</code>. Let’s switch that up and our problems should be solved:</p>

<div class="bogus-wrapper"><notextile><figure class="code ruby"><figcaption><span></span></figcaption><pre><code class="ruby"><span class="k">class</span> <span class="nc">Photo</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
  <span class="n">mount_uploader</span> <span class="ss">:image</span><span class="p">,</span> <span class="no">ImageUploader</span>

  <span class="n">after_save</span> <span class="ss">on</span><span class="p">:</span> <span class="ss">:create</span> <span class="k">do</span>
    <span class="no">Pusher</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="s2">&quot;new_photo&quot;</span><span class="p">,</span> <span class="no">PhotoSerializer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></figure></notextile></div>

<p>Result: Same thing. huh?</p>

<p>To see the order in which callbacks are run, we can do this:</p>

<div class="bogus-wrapper"><notextile><figure class="code ruby"><figcaption><span></span></figcaption><pre><code class="ruby"><span class="no">Photo</span><span class="o">.</span><span class="n">_save_callbacks</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:filter</span><span class="p">)</span>
</code></pre></figure></notextile></div>

<p>That will show the name of the callbacks being called, and will look something like:</p>

<div class="bogus-wrapper"><notextile><figure class="code ruby"><figcaption><span></span></figcaption><pre><code class="ruby"><span class="o">[</span><span class="mi">70220584822820</span><span class="p">,</span> <span class="ss">:remove_previously_stored_photo</span><span class="p">,</span> <span class="ss">:store_photo!</span><span class="p">,</span> <span class="ss">:write_photo_identifier</span><span class="o">]</span>
</code></pre></figure></notextile></div>

<p>That 70220584822820 is our block callback. And it’s first. Why is it first? Can we get it to go last?  Callbacks are run in a last-first order. Further, changing it to something like the following also doesn’t work.</p>

<div class="bogus-wrapper"><notextile><figure class="code ruby"><figcaption><span></span></figcaption><pre><code class="ruby"><span class="k">class</span> <span class="nc">Photo</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
  <span class="n">mount_uploader</span> <span class="ss">:image</span><span class="p">,</span> <span class="no">ImageUploader</span>

  <span class="n">after_save</span> <span class="ss">on</span><span class="p">:</span> <span class="ss">:create</span> <span class="k">do</span>
    <span class="no">Pusher</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="s2">&quot;new_photo&quot;</span><span class="p">,</span> <span class="no">PhotoSerializer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></figure></notextile></div>

<h3 id="so-then-what-the-hell-works">So then what the hell works?</h3>

<p>We need to store the image before we get the attributes. So, let’s add that <code>store_image!</code> callback we saw in the list of callbacks. This will result in <code>store_image!</code> being called twice, but it won’t actually store the image twice — the second call is basically a no-op.</p>

<div class="bogus-wrapper"><notextile><figure class="code ruby"><figcaption><span></span></figcaption><pre><code class="ruby"><span class="k">class</span> <span class="nc">Photo</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
  <span class="n">mount_uploader</span> <span class="ss">:image</span><span class="p">,</span> <span class="no">ImageUploader</span>

  <span class="n">after_save</span> <span class="ss">on</span><span class="p">:</span> <span class="ss">:create</span> <span class="k">do</span>
    <span class="n">store_image!</span> <span class="c1">## It’s this. this is carrierwave saving the image.</span>
    <span class="no">Pusher</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="s2">&quot;new_photo&quot;</span><span class="p">,</span> <span class="no">PhotoSerializer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">)</span><span class="o">.</span><span class="n">attributes</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code json"><figcaption><span></span></figcaption><pre><code class="json"><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;399ca80efb2bd65e7254f299adfe278a&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;thumbythumbythumby&quot;</span><span class="p">,</span>
    <span class="nt">&quot;large_image_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://sevensevenseven-dev.s3.amazonaws.com/uploads/photo/photo/32/large_thumbnail.jpg&quot;</span><span class="p">,</span>
    <span class="nt">&quot;thumb_photo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://sevensevenseven-dev.s3.amazonaws.com/uploads/photo/photo/32/thumb_thumbnail.jpg&quot;</span>
<span class="p">}</span>
</code></pre></figure></notextile></div>

<h3 id="it-works-rejoice-then-anger">IT WORKS. REJOICE. Then: Anger.</h3>

<p>CALLBACKS!!! </p>

<p><img src="/images/khallbacks.jpg" alt="khallbacks" /></p>

<p>It reminds me of a <a href="http://jessewolgamott.com/blog/2012/06/06/railsconf-2012-ignite-talk-activerecord-and-velveeta/">story about a younger Rails developer warning other Rails devs about the dangers of Callbacks, and how they tend to screw you over</a>.</p>

	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">05 Dec 2014</span>
		<h2 class="post-title">
			
			<a href="/blog/2014/12/05/rails-and-the-next-5-years/">
			
				Rails and the Next 5 Years</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>After a few flirtatious encounters with Ruby, I left .NET in 2009.
I was looking for something better, something where I
didn’t use an IDE, something where I didn’t feel like I was fighting the
entire culture, and a place I could be happy being a devloper again.</p>

<p>I found Rails. I found open source. I found Ruby. And I found myself.</p>

<p>Ruby/Rails to me: a community where people help each other learn, full of
interesting and fun challenges, and a desire to learn the entire stack from UNIX
to CSS. </p>

<p>Fast forward 5 years; I’ve been thinking about what the next 5 years will look
like, for both me specifically and for web/mobile application in general.</p>

<p>It’s fairly clear to me that most medium to large’ish apps won’t be a single
Rails app with 100 controllers. That dog has tried to hunt, and well… that
dog won’t hunt. OneLargeRailsApp is not the future. </p>

<p>Rails isn’t going away. I will still use it for prototyping and for
applications where expressiveness is key (billing code and administration of
data are two examples). Rails will become part of the puzzle, not the whole
thing. I don’t envision anything being the entire puzzle anymore. Too much
awesome tech which each do one thing super awesomely.</p>

<h3 id="prediction-apps-in-this-half-decade-will-be-split-up">Prediction: apps in this half-decade will be split up</h3>

<ul>
  <li>Many Apps (iOS/android, some rails, some Ember, some R, some Go)</li>
  <li>Depending on your worldview, <code>gsub/Go/Node|Elixir/</code></li>
</ul>

<p>I don’t anticipate quote-unquote leaving Rails. There’s no need to leave like
there was a need for me to flee .NET. Instead, the communities will merge
together under an open-source umbrella. I doubt there will be one big huge
community in which you do ALL of your development. </p>

<p>The future, in my opinion, is many languages. Many communities. Many meetups. </p>

<p>Bring on the future!</p>

<p>(and my hoverboards. and jetpacks. and flying cars)  </p>

<iframe src="http://giphy.com/embed/3jmLczk5BbfZC?html5=true" width="480" height="261" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

	</section>
</article>


    <article class="post">
	
	<header class="post-header">
		<span class="post-meta">20 Oct 2014</span>
		<h2 class="post-title">
			
			<a href="/blog/2014/10/20/ember-cli-getting-started-with-the-awesome/">
			
				Ember-cli: Getting Started With the Awesome</a>
		</h2>
	</header>
	<section class="post-excerpt">
		<p>ember-cli <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> is a command line application that creates a separate project for your ember project.
It is crafted by the Ember core team and extended by the Ember community <sup id="fnref:"><a href="#fn:" rel="footnote"></a></sup>.
So: your backend API will be in 1 app/repo, and ember in a seperate one. This is
a good thing for all sorts of reasons, but mostly: Your Front End App has grown
up.</p>

<blockquote class="twitter-tweet" lang="en"><p>So excited by how Ember CLI is
shaping up. This is the story I&#39;ve been wanting to tell about developing web
apps for the last 3 years.</p>&mdash; Tom Dale (@tomdale) <a href="https://twitter.com/tomdale/status/523265743610060800">October 18,
2014</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>What does ember-cli give you over other-tool.js?</p>

<ul>
  <li>ember-cli includes the ability to build SCSS, Coffee-Script, include bower assets, and test your code.
It will generate ember components for you in the same style as “rails generate model Customer”</li>
  <li>ember-cli can run all of your front-end tests. Fastly. Without hair-pulling.</li>
  <li>ember-cli can build the code for you (into a dist) folder, which can be deployed, or copied to a Rails public folder.</li>
  <li>ember-cli can also be deployed directly to Heroku, or used to build Cordova applications on iOS and Android.</li>
</ul>

<p>** Tl;dr ember-cli is the awesome **</p>

<p>However: There is a confusion generating getting-started period where you might be confused by some of
the conventions. (confession: I had to fiddle around to figure stuff out.
Hopefully, you dear reader won’t have to do so).</p>

<h2 id="es6-modules">ES6 Modules</h2>
<p>If you’ve used ember before in Rails or Lineman<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup>, moving to ember-cli could confuse you a bit — 
ember-cli uses ES6 modules, which you may have never seen before.</p>

<p>Prior to ember-cli, you may have declared your ember data models in this fashion:</p>

<p>** app/js/models/user.js **</p>

<div class="bogus-wrapper"><notextile><figure class="code javascript"><figcaption><span></span></figcaption><pre><code class="javascript"><span class="nx">App</span><span class="p">.</span><span class="nx">User</span> <span class="o">=</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="nx">first_name</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
  <span class="nx">last_name</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
  <span class="nx">email</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
  <span class="nx">admin</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;boolean&#39;</span><span class="p">)</span>
<span class="p">});</span>
</code></pre></figure></notextile></div>

<p>Things to notice: in this file, we assume that Ember and Ember Data have already been loaded, 
and are in the global namespace ready for use. </p>

<p>ES6, on the other hand, requires you to be explicit about what you want to use — you import namespaces, 
name them what you want, and then use them.</p>

<p>** app/models/recipe.js **</p>

<div class="bogus-wrapper"><notextile><figure class="code js"><figcaption><span></span></figcaption><pre><code class="js"><span class="kr">import</span> <span class="nx">DS</span> <span class="nx">from</span> <span class="s1">&#39;ember-data&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="nx">permalink</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
  <span class="nx">name</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
  <span class="nx">ingredients</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
  <span class="nx">instructions</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">),</span>
  <span class="nx">description</span><span class="o">:</span> <span class="nx">DS</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>
<span class="p">});</span>
</code></pre></figure></notextile></div>

<p>We import the “DS” from ember-data, and it exports the object we define. What we notice:</p>

<ol>
  <li>We never say this is a “Recipe”. Instead, the ember-cli “Resolver” knows that this is from recipe.js and 
therefor is a “Recipe”.</li>
  <li>The “export default” is important. Without it, nothing happens.</li>
  <li>It’s extremely important to name files correctly. Extreme Extremeness.</li>
</ol>

<h2 id="getting-sass-working">Getting Sass Working</h2>
<p>Coming from Rails, the first thing I want to do is work with Sass. I found a couple of loops you had to 
jump through to get your .scss working again. </p>

<h4 id="step-1-install-brocolli-sass-and-broccoli-merge-trees">Step 1: install brocolli-sass and broccoli-merge-trees</h4>

<div class="bogus-wrapper"><notextile><figure class="code bash"><figcaption><span></span></figcaption><pre><code class="bash">npm install --save-dev broccoli-sass
npm install --save-dev broccoli-merge-trees
</code></pre></figure></notextile></div>

<p>If you’re new to npm, the “–save-dev” means “use only in this project”.</p>

<h4 id="step-2-edit-brocfilejs">Step 2: edit Brocfile.js</h4>

<p>Make it look like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code js"><figcaption><span></span></figcaption><pre><code class="js"><span class="cm">/* global require, module */</span>

<span class="kd">var</span> <span class="nx">EmberApp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ember-cli/lib/broccoli/ember-app&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EmberApp</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">compileSass</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;broccoli-sass&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">mergeTrees</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;broccoli-merge-trees&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">sassSources</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">&#39;app/styles&#39;</span><span class="p">,</span>
  <span class="s1">&#39;vendor/css&#39;</span>
<span class="p">]</span>

<span class="kd">var</span> <span class="nx">appCss</span> <span class="o">=</span> <span class="nx">compileSass</span><span class="p">(</span> <span class="nx">sassSources</span> <span class="p">,</span> <span class="s1">&#39;app.scss&#39;</span><span class="p">,</span> <span class="s1">&#39;assets/app.css&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">appAndCustomDependencies</span> <span class="o">=</span> <span class="nx">mergeTrees</span><span class="p">([</span><span class="nx">app</span><span class="p">.</span><span class="nx">toTree</span><span class="p">(),</span><span class="nx">appCss</span><span class="p">],</span> <span class="p">{</span>
  <span class="nx">overwrite</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>
<span class="c1">// EXPORT ALL THE THINGS!</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">appAndCustomDependencies</span><span class="p">;</span>
</code></pre></figure></notextile></div>

<p>This will create an asset-pipeline of sorts for you. Broccoli will compile any sass files in app/styles and vendor/css, and compile app.scss into “assets/app.css”. </p>

<p>Generally, this is what you want.</p>

<h4 id="step-3-customize-your-sass">Step 3: Customize your sass</h4>

<p>Move app/styles/app.css to app/styles/app.scss. You can now use scss all you like:</p>

<div class="bogus-wrapper"><notextile><figure class="code scss"><figcaption><span></span></figcaption><pre><code class="scss"><span class="nt">body</span> <span class="p">{</span>
  <span class="na">color</span><span class="o">:</span> <span class="nf">lighten</span><span class="p">(</span><span class="mh">#222222</span><span class="o">,</span> <span class="mi">20</span><span class="kt">%</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></figure></notextile></div>

<p>(We’ll use Bourbon in a future article)</p>

<h2 id="creating-routes">Creating Routes</h2>

<div class="bogus-wrapper"><notextile><figure class="code scss"><figcaption><span></span></figcaption><pre><code class="scss"><span class="nt">ember</span> <span class="nt">generate</span> <span class="nt">route</span> <span class="nt">Index</span>
</code></pre></figure></notextile></div>

<p>This will create app/routes/index.js (and create “routes” directory for you, cool). We’ll change the default to the standard ember starter:</p>

<div class="bogus-wrapper"><notextile><figure class="code scss"><figcaption><span></span></figcaption><pre><code class="scss"><span class="nt">import</span> <span class="nt">Ember</span> <span class="nt">from</span> <span class="s1">&#39;</span><span class="s2">ember&#39;</span><span class="o">;</span>

<span class="nt">export</span> <span class="nt">default</span> <span class="nt">Ember</span><span class="nc">.Route.extend</span><span class="o">(</span><span class="p">{</span>
  <span class="na">model</span><span class="o">:</span> <span class="nf">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nt">return</span> <span class="o">[</span><span class="s2">&quot;red&quot;</span><span class="o">,</span> <span class="s2">&quot;yellow&quot;</span><span class="o">,</span> <span class="s2">&quot;green&quot;</span><span class="o">];</span>
  <span class="p">}</span>
<span class="p">}</span><span class="na">);</span>
</code></pre></figure></notextile></div>

<p>And we’ll create a template to show. </p>

<div class="bogus-wrapper"><notextile><figure class="code bash"><figcaption><span></span></figcaption><pre><code class="bash">ember generate template index
</code></pre></figure></notextile></div>

<p>This created app/templates/index.hbs. We’ll change its contents to:</p>

<script src="https://gist.github.com/jwo/8fdfe5e630d37a07cdce.js"></script>

<h3 id="running-locally">Running Locally</h3>

<div class="bogus-wrapper"><notextile><figure class="code bash"><figcaption><span></span></figcaption><pre><code class="bash">ember server
</code></pre></figure></notextile></div>

<p>If things are good to go, you’ll see the colors listed out on the screen. WOAH, the power.</p>

<h3 id="building-for-deploying">Building for Deploying</h3>

<div class="bogus-wrapper"><notextile><figure class="code bash"><figcaption><span></span></figcaption><pre><code class="bash">ember build
</code></pre></figure></notextile></div>

<p>This creates a “dist” directory with “index.html” and other static assets. We can deploy this to S3, or anywhere else. TOTES AWESOME.</p>

<h3 id="deploying-to-heroku">Deploying to Heroku</h3>

<p>If we run into CORS problems, or generally want to use Heroku, there’s a build pack for maximum awesome.</p>

<div class="bogus-wrapper"><notextile><figure class="code bash"><figcaption><span></span></figcaption><pre><code class="bash">heroku create --buildpack https://github.com/tonycoco/heroku-buildpack-ember-cli.git
git push heroku master
</code></pre></figure></notextile></div>

<p>At this point, you have an ember app, build with ember-cli, hosted on Heroku. </p>

<p>We can set an API Proxy to get around CORS problems:</p>

<p><code>heroku config:set API_URL=http://api.example.com/</code></p>

<p>If you want to checkout a repo where this is hooked up <sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup> </p>

<h2 id="where-to-go-from-here">Where to go from here?</h2>

<ul>
  <li>Check out ember-cli-cordova https://github.com/poetic/ember-cli-cordova </li>
  <li>Watch Jake from Poetic Systems’s Houston.JS talk on using this to build mobile apps</li>
  <li>
    <blockquote class="twitter-tweet" lang="en"><p>My talk on building hybrid apps with ember is up! <a href="http://t.co/iKOB75Dgex">http://t.co/iKOB75Dgex</a> Presented for <a href="https://twitter.com/HoustonJS">@HoustonJS</a> at <a href="https://twitter.com/PoeticSystems">@PoeticSystems</a></p>&mdash; Jake Craige (@jakecraige) <a href="https://twitter.com/jakecraige/status/518037818246189056">October 3, 2014</a></blockquote>
    <script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </li>
  <li>Add Ember-Data and use the ember-cli-buildpack’s API proxy <sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></li>
  <li>Have serious FUN.</li>
</ul>

<h3 id="next-articles-in-this-series">Next Articles in this series</h3>
<ol>
  <li>How to Bourbon/Neat/Bitters your ember-cli</li>
  <li>How to use environment variables in ember-cli and on heroku</li>
  <li>How to customize the JSON you receive from someone’s API and play nicely with ember-data</li>
</ol>

<div class="footnotes">
    <ol>
        <li id="fn:1"><p><a href="http://www.ember-cli.com/">ember-cli</a>
  <a href="#fnref:1" rev="footnote">↩</a></p>
</li><li id="fn:2"><p>(seriously, check out <a href="http://www.emberaddons.com/">emberaddons.com</a>),
  <a href="#fnref:2" rev="footnote">↩</a></p>
</li><li id="fn:3"><p><a href="https://github.com/jwo/embereno-buildpack-test">jwo/embereno-buildpack-test</a>
  <a href="#fnref:3" rev="footnote">↩</a></p>
</li><li id="fn:4"><p><a href="http://www.linemanjs.com/">LinemanJS.com</a>
  <a href="#fnref:4" rev="footnote">↩</a></p>
</li><li id="fn:5"><p><a href="https://github.com/jwo/weeatt-ember-cli">GitHub/Jwo/weeatt-ember-cli</a>
<a href="#fnref:5" rev="footnote">↩</a></p>
</li>
    </ol>
</div>


	</section>
</article>

<nav class="pagination" role="pagination">
    
    <span class="page-number">Page 1 of 3</span>
    
        <a class="older-posts" href="/blog/page/2/">Older Posts →</a>
    
</nav>
  </main>
  <footer class="site-footer"><a class="subscribe icon-feed" href="http://jessewolgamott.com/atom.xml"><span class="tooltip">Subscribe!</span></a>


<div class="inner">


Follow me on



<a class="social twitter" href="http://twitter.com/jwo" title="Twitter">Twitter</a>



<a class="social github" href="http://github.com/jwo" title="GitHub">GitHub</a>



<a class="social google_plus" href="http://plus.google.com/jesse.wolgamott" title="Google+">Google+</a>


<section class="copyright">All content copyright <a href="/">Jesse Wolgamott</a> © 2016 • All rights reserved.</section>

<section class="poweredby">Casper theme by <a class="icon-ghost" href="http://tryghost.org">Ghost</a> &amp; Published with <a href="http://octopress.org">Octopress</a></section>

</div>
</footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/javascripts/highlight.pack.js"></script>  
<script>hljs.initHighlightingOnLoad()</script>



<script type="text/javascript">
      var disqus_shortname = 'jwo';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-2397417-5']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</body>
</html>
